<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EMR 7.x Version Differences</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        h1 {
            color: #232f3e;
        }
        .legend {
            margin: 20px 0;
            padding: 15px;
            background: white;
            border-radius: 5px;
        }
        .legend-item {
            display: inline-block;
            margin-right: 20px;
            padding: 5px 10px;
        }
        .green { background-color: #90EE90; }
        .yellow { background-color: #FFD700; }
        .orange { background-color: #FFA500; }
        .red { background-color: #FF6B6B; }
        .gray { background-color: #E0E0E0; }
        
        table {
            border-collapse: collapse;
            width: 100%;
            background: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
            font-size: 12px;
        }
        th {
            background-color: #232f3e;
            color: white;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        td:first-child, th:first-child {
            text-align: left;
            font-weight: bold;
            position: sticky;
            left: 0;
            background: white;
            z-index: 5;
        }
        th:first-child {
            z-index: 15;
            background-color: #232f3e;
        }
        tr:hover td {
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>EMR 7.x Application Version Differences</h1>
    
    <div class="legend">
        <strong>Legend:</strong>
        <span class="legend-item green">No Change</span>
        <span class="legend-item yellow">Patch Bump (0.0.x)</span>
        <span class="legend-item orange">Minor Bump (0.x.0)</span>
        <span class="legend-item red">Major Bump (x.0.0)</span>
        <span class="legend-item gray">Not Available</span>
    </div>

    <div style="overflow-x: auto;">
        <table id="versionTable"></table>
    </div>

    <script>
        const data = {"AWS SDK for Java": ["2.35.5,1.12.792", "2.35.5,1.12.792", "2.31.48,1.12.782", "2.31.16,1.12.782", "2.29.52,1.12.780", "2.29.44,1.12.780", "2.29.25,1.12.779", "2.28.8,1.12.772", "2.28.8,1.12.772", "2.25.70,1.12.747", "2.23.18,1.12.705", "2.23.18,1.12.656", "2.20.160-amzn-0,1.12.569"], "Python": ["3.9,3.11", "3.9,3.11", "3.9,3.11", "3.9,3.11", "3.9,3.11", "3.9,3.11", "3.9,3.11", "3.9,3.11", "3.9,3.11", "3.9,3.11", "3.9,3.11", "3.9,3.11", "3.9"], "Scala": ["2.12.18", "2.12.18", "2.12.18", "2.12.18", "2.12.18", "2.12.18", "2.12.18", "2.12.18", "2.12.18", "2.12.18", "2.12.17", "2.12.17", "2.12.17"], "AmazonCloudWatchAgent": ["1.300032.2-amzn-0", "1.300032.2-amzn-0", "1.300032.2-amzn-0", "1.300032.2-amzn-0", "1.300032.2-amzn-0", "1.300032.2-amzn-0", "1.300032.2-amzn-0", "1.300032.2-amzn-0", "1.300032.2-amzn-0", "1.300032.2-amzn-0", "1.300032.2-amzn-0", "1.300032.2-amzn-0", "1.300031.1-amzn-0"], "Delta": ["3.3.2-amzn-1", "3.3.2-amzn-0", "3.3.0-amzn-2", "3.3.0-amzn-1", "3.3.0-amzn-0", "3.2.1-amzn-2", "3.2.1-amzn-1", "3.2.1-amzn-0", "3.2.0-amzn-1", "3.2.0-amzn-0", "3.1.0", "3.0.0", "3.0.0"], "Flink": ["1.20.0-amzn-6", "1.20.0-amzn-5", "1.20.0-amzn-4", "1.20.0-amzn-3", "1.20.0-amzn-2", "1.20.0-amzn-1", "1.20.0-amzn-0", "1.19.1-amzn-1", "1.19.1-amzn-0", "1.18.1-amzn-2", "1.18.1-amzn-1", "1.18.1-amzn-0", "1.18.0-amzn-0"], "Ganglia": ["-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-"], "HBase": ["2.6.2-amzn-3", "2.6.2-amzn-2", "2.6.2-amzn-1", "2.6.2-amzn-0", "2.6.1-amzn-2", "2.6.1-amzn-1", "2.6.1-amzn-0", "2.5.10-amzn-0", "2.5.5-amzn-0", "2.4.17-amzn-7", "2.4.17-amzn-6", "2.4.17-amzn-5", "2.4.17-amzn-4"], "HCatalog": ["3.1.3-amzn-21", "3.1.3-amzn-20", "3.1.3-amzn-19", "3.1.3-amzn-18", "3.1.3-amzn-17", "3.1.3-amzn-16", "3.1.3-amzn-15", "3.1.3-amzn-14", "3.1.3-amzn-13", "3.1.3-amzn-12", "3.1.3-amzn-11", "3.1.3-amzn-10", "3.1.3-amzn-9"], "Hadoop": ["3.4.1-amzn-4", "3.4.1-amzn-3", "3.4.1-amzn-2", "3.4.1-amzn-1", "3.4.1-amzn-0", "3.4.0-amzn-3", "3.4.0-amzn-2", "3.4.0-amzn-1", "3.4.0-amzn-0", "3.3.6-amzn-5", "3.3.6-amzn-4", "3.3.6-amzn-3", "3.3.6-amzn-2"], "Hive": ["3.1.3-amzn-21", "3.1.3-amzn-20", "3.1.3-amzn-19", "3.1.3-amzn-18", "3.1.3-amzn-17", "3.1.3-amzn-16", "3.1.3-amzn-15", "3.1.3-amzn-14", "3.1.3-amzn-13", "3.1.3-amzn-12", "3.1.3-amzn-11", "3.1.3-amzn-10", "3.1.3-amzn-9"], "Hudi": ["1.0.2-amzn-1", "1.0.2-amzn-0", "0.15.0-amzn-7", "0.15.0-amzn-6", "0.15.0-amzn-5", "0.15.0-amzn-4", "0.15.0-amzn-3", "0.15.0-amzn-2", "0.15.0-amzn-1", "0.15.0-amzn-0", "0.14.1-amzn-1", "0.14.1-amzn-0", "0.14.0-amzn-1"], "Hue": ["4.11.0", "4.11.0", "4.11.0", "4.11.0", "4.11.0", "4.11.0", "4.11.0", "4.11.0", "4.11.0", "4.11.0", "4.11.0", "4.11.0", "4.11.0"], "Iceberg": ["1.10.0-amzn-0", "1.9.1-amzn-0", "1.8.1-amzn-0", "1.7.1-amzn-2", "1.7.1-amzn-1", "1.7.1-amzn-0", "1.6.1-amzn-2", "1.6.1-amzn-1", "1.6.1-amzn-0", "1.5.2-amzn-0", "1.5.0-amzn-0", "1.4.3-amzn-0", "1.4.2-amzn-0"], "JupyterEnterpriseGateway": ["2.6.0", "2.6.0", "2.6.0", "2.6.0", "2.6.0", "2.6.0", "2.6.0", "2.6.0", "2.6.0", "2.6.0", "2.6.0", "2.6.0", "2.6.0"], "JupyterHub": ["1.5.0", "1.5.0", "1.5.0", "1.5.0", "1.5.0", "1.5.0", "1.5.0", "1.5.0", "1.5.0", "1.5.0", "1.5.0", "1.5.0", "1.5.0"], "Livy": ["0.8.0-incubating", "0.8.0-incubating", "0.8.0-incubating", "0.8.0-incubating", "0.8.0-incubating", "0.8.0-incubating", "0.8.0-incubating", "0.8.0-incubating", "0.8.0-incubating", "0.8.0-incubating", "0.8.0-incubating", "0.8.0-incubating", "0.7.1-incubating"], "MXNet": ["-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "1.9.1", "1.9.1", "1.9.1"], "Mahout": ["-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-", "-"], "Oozie": ["5.2.1", "5.2.1", "5.2.1", "5.2.1", "5.2.1", "5.2.1", "5.2.1", "5.2.1", "5.2.1", "5.2.1", "5.2.1", "5.2.1", "5.2.1"], "Phoenix": ["5.2.1", "5.2.1", "5.2.1", "5.2.1", "5.2.1", "5.2.1", "5.2.0", "5.2.0", "5.2.0", "5.1.3", "5.1.3", "5.1.3", "5.1.3"], "Pig": ["0.17.0", "0.17.0", "0.17.0", "0.17.0", "0.17.0", "0.17.0", "0.17.0", "0.17.0", "0.17.0", "0.17.0", "0.17.0", "0.17.0", "0.17.0"], "Presto": ["0.287-amzn-6", "0.287-amzn-5", "0.287-amzn-4", "0.287-amzn-3", "0.287-amzn-2", "0.287-amzn-1", "0.287-amzn-1", "0.287-amzn-0", "0.287-amzn-0", "0.285-amzn-1", "0.285-amzn-0", "0.284-amzn-0", "0.283-amzn-1"], "Spark": ["3.5.6-amzn-1", "3.5.6-amzn-0", "3.5.5-amzn-1", "3.5.5-amzn-0", "3.5.4-amzn-0", "3.5.3-amzn-1", "3.5.3-amzn-0", "3.5.2-amzn-1", "3.5.2-amzn-0", "3.5.1-amzn-1", "3.5.1-amzn-0", "3.5.0-amzn-1", "3.5.0-amzn-0"], "Sqoop": ["-", "-", "-", "-", "-", "-", "-", "-", "1.4.7", "1.4.7", "1.4.7", "1.4.7", "1.4.7"], "TensorFlow": ["2.19.0", "2.19.0", "2.18.0", "2.16.1", "2.16.1", "2.16.1", "2.16.1", "2.16.1", "2.16.1", "2.16.1", "2.11.0", "2.11.0", "2.11.0"], "Tez": ["0.10.2-amzn-19", "0.10.2-amzn-18", "0.10.2-amzn-17", "0.10.2-amzn-16", "0.10.2-amzn-15", "0.10.2-amzn-14", "0.10.2-amzn-13", "0.10.2-amzn-12", "0.10.2-amzn-11", "0.10.2-amzn-10", "0.10.2-amzn-9", "0.10.2-amzn-8", "0.10.2-amzn-7"], "Trino (PrestoSQL)": ["476-amzn-1", "475-amzn-0", "470-amzn-0", "467-amzn-2", "467-amzn-1", "467-amzn-0", "457-amzn-0", "446-amzn-0", "446-amzn-0", "442-amzn-0", "436-amzn-0", "435-amzn-0", "426-amzn-1"], "Zeppelin": ["0.11.1", "0.11.1", "0.11.1", "0.11.1", "0.11.1", "0.11.1", "0.11.1", "0.11.1", "0.11.1", "0.11.1", "0.10.1", "0.10.1", "0.10.1"], "ZooKeeper": ["3.9.3-amzn-4", "3.9.3-amzn-3", "3.9.3-amzn-2", "3.9.3-amzn-1", "3.9.3-amzn-0", "3.9.2-amzn-1", "3.9.2-amzn-0", "3.9.2-amzn-0", "3.9.2-amzn-0", "3.9.1-amzn-1", "3.9.1-amzn-1", "3.9.1-amzn-0", "3.5.10"]};
        const versions = ["7.12.0", "7.11.0", "7.10.0", "7.9.0", "7.8.0", "7.7.0", "7.6.0", "7.5.0", "7.4.0", "7.3.0", "7.2.0", "7.1.0", "7.0.0"];

        function parseVersion(v) {
            if (v === "-") return null;
            const match = v.match(/(\d+)\.(\d+)\.(\d+)/);
            return match ? [parseInt(match[1]), parseInt(match[2]), parseInt(match[3])] : null;
        }

        function compareVersions(curr, prev) {
            if (!curr || !prev) return curr === prev ? "green" : "gray";
            if (curr[0] !== prev[0]) return "red";
            if (curr[1] !== prev[1]) return "orange";
            if (curr[2] !== prev[2]) return "yellow";
            return "green";
        }

        function getColor(app, idx) {
            const curr = data[app][idx];
            if (idx === data[app].length - 1) return "";
            const prev = data[app][idx + 1];
            
            if (curr === "-" || prev === "-") return curr === prev ? "gray" : "gray";
            if (curr === prev) return "green";
            
            const currVer = parseVersion(curr);
            const prevVer = parseVersion(prev);
            return compareVersions(currVer, prevVer);
        }

        const table = document.getElementById("versionTable");
        let html = "<thead><tr><th>Application</th>";
        versions.forEach(v => html += `<th>emr-${v}</th>`);
        html += "</tr></thead><tbody>";

        Object.keys(data).forEach(app => {
            html += `<tr><td>${app}</td>`;
            data[app].forEach((ver, idx) => {
                const color = getColor(app, idx);
                html += `<td class="${color}">${ver}</td>`;
            });
            html += "</tr>";
        });

        html += "</tbody>";
        table.innerHTML = html;
    </script>
</body>
</html>